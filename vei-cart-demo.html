<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>VEI Cart Demo</title>
    <style>
        body {
            font-family: Arial, sans-serif;
            max-width: 800px;
            margin: 0 auto;
            padding: 20px;
            background: #f5f5f5;
        }
        .product {
            background: white;
            padding: 20px;
            margin: 10px 0;
            border-radius: 8px;
            box-shadow: 0 2px 4px rgba(0,0,0,0.1);
        }
        button {
            background: #007bff;
            color: white;
            border: none;
            padding: 10px 20px;
            border-radius: 4px;
            cursor: pointer;
            margin: 5px;
            transition: background 0.3s;
        }
        button:hover {
            background: #0056b3;
        }
        .cart-button {
            background: #28a745;
            font-size: 18px;
            padding: 15px 30px;
        }
        .cart-button:hover {
            background: #1e7e34;
        }
        .added {
            background: #6c757d;
        }
    </style>
</head>
<body>
    <h1>VEI Cart Demo</h1>
    <p>Test the VEI buy button functionality - no backend required!</p>

    <div id="products"></div>

    <div style="text-align: center; margin: 30px 0;">
        <button class="cart-button" onclick="checkout()">
            Checkout
        </button>
    </div>

    <script>
        let cartItems = [];

        // Products from CSV
        const products = [
            { name: "Divider", url: "https://portal.veinternational.org/buybuttons/us019814/btn/divider-odi/" },
            { name: "Ice Molds", url: "https://portal.veinternational.org/buybuttons/us019814/btn/ice-molds-oim/" },
            { name: "Shaker Ball", url: "https://portal.veinternational.org/buybuttons/us019814/btn/shaker-ball-osb/" },
            { name: "The Anchor (Snack Compartment)", url: "https://portal.veinternational.org/buybuttons/us019814/btn/the-anchor-snack-compartment-oan/" },
            { name: "Surge IV (Blue Razzberry)", url: "https://portal.veinternational.org/buybuttons/us019814/btn/surge-iv-blue-razzberry-suel1/" },
            { name: "Surge IV (Fruit Punch)", url: "https://portal.veinternational.org/buybuttons/us019814/btn/surge-iv-fruit-punch-suel2/" },
            { name: "Surge IV (Lemonade)", url: "https://portal.veinternational.org/buybuttons/us019814/btn/surge-iv-lemonade-suel3/" },
            { name: "Surge IV (Pina Colada)", url: "https://portal.veinternational.org/buybuttons/us019814/btn/surge-iv-pina-colada-suel4/" },
            { name: "Surge IV (Strawberry)", url: "https://portal.veinternational.org/buybuttons/us019814/btn/surge-iv-strawberry-suel5/" },
            { name: "Surge IV (Tropical Vibes)", url: "https://portal.veinternational.org/buybuttons/us019814/btn/surge-iv-tropical-punch-suel6/" },
            { name: "Surge IV (Cucumber Lime)", url: "https://portal.veinternational.org/buybuttons/us019814/btn/surge-iv-cucumber-lime-suel7/" },
            { name: "Surge IV (Apple Cider)", url: "https://portal.veinternational.org/buybuttons/us019814/btn/surge-iv-apple-cider-suel8/" },
            { name: "The Snow Cap (Modified Lid)", url: "https://portal.veinternational.org/buybuttons/us019814/btn/the-snow-cap-modified-lid-casc/" },
            { name: "Peak Powder (Chocolate)", url: "https://portal.veinternational.org/buybuttons/us019814/btn/peak-powder-chocolate-supr1/" },
            { name: "Peak Powder (Vanilla)", url: "https://portal.veinternational.org/buybuttons/us019814/btn/peak-powder-vanilla-supr2/" },
            { name: "The Glacier (Black) w. Ice Cap", url: "https://portal.veinternational.org/buybuttons/us019814/btn/the-glacier-black-w-ice-cap-bo41/" },
            { name: "The Glacier (Brown) w. Ice Cap", url: "https://portal.veinternational.org/buybuttons/us019814/btn/the-glacier-brown-w-ice-cap-bo42/" },
            { name: "The Glacier (Frost Blue) w. Ice Cap", url: "https://portal.veinternational.org/buybuttons/us019814/btn/the-glacier-frost-blue-w-ice-cap-bo43/" },
            { name: "The Glacier (Maroon) w. Ice Cap", url: "https://portal.veinternational.org/buybuttons/us019814/btn/the-glacier-maroon-w-ice-cap-bo44/" },
            { name: "The Glacier (Orange) w. Ice Cap", url: "https://portal.veinternational.org/buybuttons/us019814/btn/the-glacier-orange-w-ice-cap-bo45/" },
            { name: "The Glacier (White) w. Ice Cap", url: "https://portal.veinternational.org/buybuttons/us019814/btn/the-glacier-white-w-ice-cap-bo46/" },
            { name: "The Iceberg (Black) w. Ice Cap", url: "https://portal.veinternational.org/buybuttons/us019814/btn/the-iceberg-black-w-ice-cap-bo31/" },
            { name: "The Iceberg (Brown) w. Ice Cap", url: "https://portal.veinternational.org/buybuttons/us019814/btn/the-iceberg-brown-w-ice-cap-bo32/" },
            { name: "The Iceberg (Frost Blue) w. Ice Cap", url: "https://portal.veinternational.org/buybuttons/us019814/btn/the-iceberg-frost-blue-w-ice-cap-bo33/" },
            { name: "The Iceberg (Maroon) w. Ice Cap", url: "https://portal.veinternational.org/buybuttons/us019814/btn/the-iceberg-maroon-w-ice-cap-bo34/" },
            { name: "The Iceberg (Orange) w. Ice Cap", url: "https://portal.veinternational.org/buybuttons/us019814/btn/the-iceberg-orange-w-ice-cap-bo35/" },
            { name: "The Iceberg (White) w. Ice Cap", url: "https://portal.veinternational.org/buybuttons/us019814/btn/the-iceberg-white-w-ice-cap-bo36/" },
            { name: "Alo x Thrive Bundle", url: "https://portal.veinternational.org/buybuttons/us019814/btn/alo-x-thrive-bundle-sef1/" },
            { name: "Peleton x Thrive Bundle", url: "https://portal.veinternational.org/buybuttons/us019814/btn/peloton-x-thrive-bundle-sef2/" },
            { name: "Fall Bundle", url: "https://portal.veinternational.org/buybuttons/us019814/btn/fall-bundle-sef3/" },
            { name: "Peak Protein (Pumpkin Spice)", url: "https://portal.veinternational.org/buybuttons/us019814/btn/peak-protein-pumpkin-spice-supr3/" }
        ];

        function addToCart(name, url, button) {
            cartItems.push({ name, url });
            console.log("Adding:", name);

            // Show visual feedback
            const originalText = button.textContent;
            button.textContent = 'Adding...';
            button.disabled = true;

            // This adds to THEIR VE cart
            fetch(url, { mode: "no-cors" })
                .then(() => {
                    console.log("Added:", name);
                    button.textContent = 'Added!';
                    button.classList.add('added');
                    
                    // Reset after 2 seconds
                    setTimeout(() => {
                        button.textContent = originalText;
                        button.disabled = false;
                        button.classList.remove('added');
                    }, 2000);
                })
                .catch(() => {
                    console.log("Error adding:", name);
                    button.textContent = originalText;
                    button.disabled = false;
                });
        }

        function checkout() {
            // Just send them to THEIR OWN CART
            window.location.href = "https://portal.veinternational.org/buybuttons/us019814/cart/";
        }

        // Generate product buttons
        function generateProducts() {
            const container = document.getElementById('products');
            
            // Show first 10 products as example
            products.slice(0, 10).forEach(product => {
                const productDiv = document.createElement('div');
                productDiv.className = 'product';
                productDiv.innerHTML = `
                    <h3>${product.name}</h3>
                    <button onclick="addToCart('${product.name}', '${product.url}', this)">
                        Add to Cart
                    </button>
                `;
                container.appendChild(productDiv);
            });
        }

        // Initialize products on page load
        generateProducts();
    </script>
</body>
</html>
